(this.webpackJsonpmphasis=this.webpackJsonpmphasis||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s.n(a),r=s(23),i=s.n(r),o=(s(30),s(4)),l=s(2),u=s(14);s(31);var j=function(e){return JSON.parse(sessionStorage.getItem("user"))||e.history.push("./login"),Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("div",{className:"logout",children:Object(n.jsx)(o.b,{to:{pathname:"/login",state:{logout:!0}},children:"logout"})}),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:{pathname:"/users",state:{users:Object(u.a)(e.location.state.users)}},children:"User List"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:{pathname:"/blogs",state:{users:Object(u.a)(e.location.state.users)}},children:"Blogs"})})]})]})},b=s(8),d=s.n(b),h=s(10),O=s(16),m=s(21),p=s(9),x={login:function(e,t){return f.apply(this,arguments)},getBlogs:function(){return v.apply(this,arguments)}},g="https://jsonplaceholder.typicode.com/";function f(){return(f=Object(h.a)(d.a.mark((function e(t,s){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"users",e.next=3,fetch("".concat(g).concat("users")).then((function(e){return e.json()}));case 3:if(n=e.sent,a=!1,n.forEach((function(e){e.email===t&&e.username===s&&(a=!0)})),!a){e.next=11;break}return e.abrupt("return",{users:n});case 11:return e.abrupt("return",{error:"Email or Password is wrong"});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"posts",e.next=3,fetch("".concat(g).concat("posts")).then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",{blogs:t});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s(38);var N=function(e){var t=Object(a.useState)({email:"",password:""}),s=Object(p.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(!1),o=Object(p.a)(i,2),l=o[0],j=o[1],b=Object(a.useState)(!1),g=Object(p.a)(b,2),f=g[0],v=g[1],N=Object(a.useState)(""),y=Object(p.a)(N,2),S=y[0],w=y[1],F=Object(a.useState)([]),k=Object(p.a)(F,2),I=k[0],C=k[1],B=c.email,E=c.password;function J(e){var t=e.target,s=t.name,n=t.value;r((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},s,n))}))}function P(){return(P=Object(h.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j(!0),!B||!E){e.next=7;break}return e.next=5,x.login(B,E);case 5:(s=e.sent).error?w(s.error):(sessionStorage.setItem("user",JSON.stringify(c)),C(s.users),v(!0));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.location.state&&e.location.state.logout&&(sessionStorage.removeItem("user"),e.location.state={}),f&&e.history.push({pathname:"/home",state:{users:Object(u.a)(I)}}),Object(n.jsx)("div",{className:"container center",children:Object(n.jsxs)("form",{name:"form",className:"form",onSubmit:function(e){return P.apply(this,arguments)},children:[""!==S&&Object(n.jsx)("div",{className:"alert alert-danger",children:S}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email Id"}),Object(n.jsx)("input",{type:"email",name:"email",value:B,onChange:J,className:"form-control"+(l&&!B?" is-invalid":"")}),l&&!B&&Object(n.jsx)("div",{className:"invalid-feedback",children:"Email Id is required"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",value:E,onChange:J,className:"form-control"+(l&&!E?" is-invalid":"")}),l&&!E&&Object(n.jsx)("div",{className:"invalid-feedback",children:"Password is required"})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("button",{className:"btn btn-primary",children:"Login"})})]})})};s(39);var y=function(e){var t=e.location.state&&e.location.state.users,s=Object(a.useState)(""),c=Object(p.a)(s,2),r=c[0],i=c[1];return JSON.parse(sessionStorage.getItem("user"))||e.history.push("./login"),t?Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("div",{className:"logout",children:Object(n.jsx)(o.b,{to:{pathname:"/login",state:{logout:!0}},children:"logout"})}),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsxs)("h3",{children:["User Filter:",Object(n.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}})]}),t.map((function(e){return e.name.includes(r)?Object(n.jsxs)("h3",{children:[e.id,".",e.name]},e.id):Object(n.jsx)(a.Fragment,{})}))]})]}):Object(n.jsx)(a.Fragment,{})};s(40);var S=function(e){var t=Object(a.useState)([]),s=Object(p.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(""),l=Object(p.a)(i,2),u=l[0],j=l[1],b=e.location.state.users,O={};return b.forEach((function(e){O[e.id]=e})),c.forEach((function(e){e.user=O[e.userId]})),Object(a.useEffect)((function(){function e(){return(e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getBlogs();case 2:t=e.sent,r(t.blogs);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),JSON.parse(sessionStorage.getItem("user"))||e.history.push("./login"),c?Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("div",{className:"logout",children:Object(n.jsx)(o.b,{to:{pathname:"/login",state:{logout:!0}},children:"logout"})}),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsxs)("h4",{children:["Filter:",Object(n.jsx)("input",{type:"text",value:u,placeholder:"Author name or Title",onChange:function(e){return j(e.target.value)}})]}),c.map((function(t){return t.title.includes(u)||t.user.name.includes(u)?Object(n.jsxs)("div",{className:"blogsContainer",onClick:function(){return s=t,void e.history.push({pathname:"/blogs/".concat(s.id),state:{blog:s,users:b}});var s},children:[Object(n.jsxs)("label",{className:"label",children:["Blog #",t.id]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"label",children:"Title:"}),Object(n.jsxs)("span",{children:[" ",t.title]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"label",children:"Author Name:"}),Object(n.jsxs)("span",{children:[" ",t.user.name]})]})]},t.id):Object(n.jsx)(a.Fragment,{})}))]})]}):Object(n.jsx)(a.Fragment,{})};s(41);var w=function(e){var t=e.location.state.blog;return JSON.parse(sessionStorage.getItem("user"))||e.history.push("./login"),Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("div",{className:"back",children:Object(n.jsx)(o.b,{to:{pathname:"/blogs",state:{users:e.location.state.users}},children:"<back to blogs page"})}),Object(n.jsx)("div",{className:"logout",children:Object(n.jsx)(o.b,{to:{pathname:"/login",state:{logout:!0}},children:"logout"})}),Object(n.jsxs)("div",{className:"blogContainer",children:[Object(n.jsxs)("h4",{children:["Blog#",t.id]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"label",children:"Title:"}),Object(n.jsxs)("span",{children:[" ",t.title]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"label",children:"Body:"}),Object(n.jsxs)("span",{children:[" ",t.body]})]})]})]})};s(42);var F=function(e){return Object(n.jsx)(a.Fragment,{children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(l.a,{to:"/login"})}}),Object(n.jsx)(l.b,{exact:!0,path:"/login",component:N}),Object(n.jsx)(l.b,{exact:!0,path:"/home",component:j}),Object(n.jsx)(l.b,{exact:!0,path:"/users",component:y}),Object(n.jsx)(l.b,{exact:!0,path:"/blogs",component:S}),Object(n.jsx)(l.b,{exact:!0,path:"/blogs/:blogId",component:w})]})})})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,44)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root")),k()}},[[43,1,2]]]);
//# sourceMappingURL=main.541c5141.chunk.js.map